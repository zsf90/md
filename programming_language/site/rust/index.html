<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh_CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="信念D力量">
  <link rel="canonical" href="https://zsf90.github.io/rust/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Rust - 编程文档 - 信念D力量</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../css/zsf90.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Rust";
    var mkdocs_page_input_path = "rust.md";
    var mkdocs_page_url = "/rust/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> 编程文档 - 信念D力量</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">首页</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">语言</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../c/">C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cplusplus/">C++</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Rust</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#helloworld">Hello,World!</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cargo">Cargo</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_1">查看帮助</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_2">创建一个项目</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_3">变量与常量</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#shadowing">隐藏（Shadowing）</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_4">复合类型</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_5">元组类型 ()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_6">数组类型 []</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_7">所有权</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_8">栈与堆</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_9">栈</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_10">堆</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_11">所有权规则</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../python/">Python</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../html/">HTML</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../css/">CSS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../javascript/">JavsScript</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../csharp/">CSharp</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../winform/">WinForm</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../wpf/">WPF</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">关于</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">编程文档 - 信念D力量</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>语言 &raquo;</li>
        
      
    
    <li>Rust</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="rust">Rust 语言编程文档</h1>
<p><code>Rust</code> 是比较新的编程语言，性能较好可与C/C++比较，也是适合写系统的语言。</p>
<h2 id="helloworld">Hello,World!</h2>
<p>第一个程序当然是 "Hello,World!"。</p>
<pre><code class="language-rust">// hello.rs

fn main() {
    println!(&quot;Hello,World!&quot;);
}
</code></pre>
<h2 id="cargo">Cargo</h2>
<p>查看帮助可以使用 <code>cargo --help</code>，查看指定命令的帮助 <code>cargo build --help</code>。</p>
<h3 id="_1">查看帮助</h3>
<pre><code class="language-shell">$ cargo --help
Rust's package manager

USAGE:
    cargo [+toolchain] [OPTIONS] [SUBCOMMAND]

OPTIONS:
    -V, --version                  Print version info and exit
        --list                     List installed commands
        --explain &lt;CODE&gt;           Run `rustc --explain CODE`
    -v, --verbose                  Use verbose output (-vv very verbose/build.rs output)
    -q, --quiet                    No output printed to stdout
        --color &lt;WHEN&gt;             Coloring: auto, always, never
        --frozen                   Require Cargo.lock and cache are up to date
        --locked                   Require Cargo.lock is up to date
        --offline                  Run without accessing the network
        --config &lt;KEY=VALUE&gt;...    Override a configuration value (unstable)
    -Z &lt;FLAG&gt;...                   Unstable (nightly-only) flags to Cargo, see 'cargo -Z help' for details
    -h, --help                     Prints help information

Some common cargo commands are (see all commands with --list):
    build, b    Compile the current package
    check, c    Analyze the current package and report errors, but don't build object files
    clean       Remove the target directory
    doc, d      Build this package's and its dependencies' documentation
    new         Create a new cargo package
    init        Create a new cargo package in an existing directory
    run, r      Run a binary or example of the local package
    test, t     Run the tests
    bench       Run the benchmarks
    update      Update dependencies listed in Cargo.lock
    search      Search registry for crates
    publish     Package and upload this package to the registry
    install     Install a Rust binary. Default location is $HOME/.cargo/bin
    uninstall   Uninstall a Rust binary

See 'cargo help &lt;command&gt;' for more information on a specific command.
</code></pre>
<h3 id="_2">创建一个项目</h3>
<p><code>cargo new hello_cargo</code>，该命令生成的结构：</p>
<pre><code class="language-shell">zsf90@DESKTOP-N95R1I7:$ tree
.
├── Cargo.toml
└── src
    └── main.rs
</code></pre>
<p><strong>Cargo.toml</strong>
这个文件使用 <a href="https://toml.io/">TOML</a> (Tom's Obvious, Minimal Language) 格式，这是 Cargo 配置文件的格式。</p>
<pre><code class="language-toml">[package]
name = &quot;hello_cargo&quot;
version = &quot;0.1.0&quot;
edition = &quot;2021&quot;

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
rand = &quot;0.8.4&quot;
</code></pre>
<h2 id="_3">变量与常量</h2>
<pre><code class="language-rust">// hello.rs

fn main() {
    let height = 10; // 定义了一个变量，不可变
    let mut width = 20; // 定义了一个可变变量，加上 mut
    const PI: f64 = 3.1415926; // 定义了一个常量
}
</code></pre>
<p>上面代码中 <code>height</code>是一个不可变的变量，<code>width</code> 是一个可变的变量，<code>PI</code> 是一个常量，定义常量必须显式指明数据类型，否则不能通过编译。</p>
<h3 id="shadowing">隐藏（Shadowing）</h3>
<p>用 let 定义的不可变变量可以多次定义，最新的变量覆盖原来的变量，rust中这这为<strong>隐藏</strong>。</p>
<p><strong>main.rs</strong></p>
<pre><code class="language-rust">fn main() {
    let x = 5;

    let x = x + 1;

    {
        let x = x * 2;
        println!(&quot;The value of x in the inner scope is: {}&quot;, x);
    }

    println!(&quot;The value of x is: {}&quot;, x);
}
</code></pre>
<h2 id="_4">复合类型</h2>
<p>复合类型（Compound types）可以将多个值组合成一个类型。Rust 有两个原生的复合类型：元组（tuple）和数组（array）。</p>
<h3 id="_5">元组类型 ()</h3>
<p>元组的元素可以是多种数据类型。</p>
<pre><code class="language-rust">fn main() {
    let tup: (i32, f64, u8) = (500, 5.5, 1);
}
</code></pre>
<p>没有任何值的元组 () 是一种特殊的类型，只有一个值，也写成 () 。该类型被称为 单元类型（unit type），而该值被称为 单元值（unit value）。如果表达式不返回任何其他值，则会隐式返回单元值。</p>
<h3 id="_6">数组类型 []</h3>
<p>数组是一种只能保存单一类型数据的结构。</p>
<pre><code class="language-rust">fn fn main() {
    let a = [1,2,3,4,5];

    let b: [i32; 5] = [1, 2, 3, 4, 5];

    let c = [3; 5]; // let c = [3, 3, 3, 3, 3];

}
</code></pre>
<h2 id="_7">所有权</h2>
<h3 id="_8">栈与堆</h3>
<p>指针动态分配的内存在<strong>堆</strong>上。
定义的变量分配在<strong>栈</strong>里。后进先出（last in, first out）</p>
<h4 id="_9">栈</h4>
<p>栈以放入值的顺序存储值并以相反顺序取出值。这也被称作 <strong>后进先出</strong>（last in, first out）。想象一下一叠盘子：当增加更多盘子时，把它们放在盘子堆的顶部，当需要盘子时，也从顶部拿走。不能从中间也不能从底部增加或拿走盘子！增加数据叫做 <strong>进栈</strong>（pushing onto the stack），而移出数据叫做 <strong>出栈</strong>（popping off the stack）。</p>
<p><strong>栈</strong>中的所有数据都必须占用已知且固定的大小。在编译时大小未知或大小可能变化的数据，要改为存储在堆上。</p>
<h4 id="_10">堆</h4>
<p>堆是缺乏组织的：当向堆放入数据时，你要请求一定大小的空间。内存分配器（memory allocator）在堆的某处找到一块足够大的空位，把它标记为已使用，并返回一个表示该位置地址的 指针（pointer）。这个过程称作 在堆上分配内存（allocating on the heap），有时简称为 “分配”（allocating）。将数据推入栈中并不被认为是分配。因为指针的大小是已知并且固定的，你可以将指针存储在栈上，不过当需要实际数据时，必须访问指针。</p>
<h3 id="_11">所有权规则</h3>
<ol>
<li>Rust 中的每一个值都有一个被称为其 所有者（owner）的变量。</li>
<li>值在任一时刻有且只有一个所有者。</li>
<li>当所有者（变量）离开作用域，这个值将被丢弃。</li>
</ol>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../python/" class="btn btn-neutral float-right" title="Python">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../cplusplus/" class="btn btn-neutral" title="C++"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright © 2021 <a href="https://zsf90.github.io" target="_blank" title="zsf90">信念D力量</a></p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../cplusplus/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../python/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(false);
        };
    </script>

</body>
</html>
